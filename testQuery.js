const mongoose = require('mongoose'); const FoodListing = require('./models/FoodListing'); mongoose.connect('mongodb://localhost:27017/foodbridge').then(async () => { const now = new Date(); const oneHourFromNow = new Date(now.getTime() + 60 * 60 * 1000); const query = { status: 'available', expiryTime: { $gt: now, $lte: oneHourFromNow }, location: { $near: { $geometry: { type: 'Point', coordinates: [80.570952, 16.433699] }, $maxDistance: 5000 } } }; const alerts = await FoodListing.find(query); console.log('Found:', alerts.length); for(const a of alerts) console.log(a.foodName); process.exit(0);});
